---
title: NextJSë¡œ ë§Œë“  ë¸”ë¡œê·¸ì— utterances ì ìš©í•˜ê¸°
date: 2022-07-01
description: nextJSë¡œ ë§Œë“  ë¸”ë¡œê·¸ì— ëŒ“ê¸€ êµ¬í˜„í•˜ê¸°(utterances)
category: nextjs
---

utterancesëŠ” ë¬´ë£Œì˜¤í”ˆì†ŒìŠ¤ë¡œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•˜ê²Œ í•´ì¤ë‹ˆë‹¤  
GitHub Issue ê¸°ë°˜ì´ê¸° ë•Œë¬¸ì— ë¸”ë¡œê·¸ í”Œë«í¼ì„ ì´ì „í•´ë„ ê¸°ì¡´ ëŒ“ê¸€ì´ ìœ ì§€ë©ë‹ˆë‹¤

---

<h2 className={`dark:text-white`}>1. Utterances repoì— ì„¤ì¹˜í•˜ê¸°</h2>
<a
  href="https://github.com/apps/utterances"
  id="link"
  className={`dark:text-white`}
>
  Utterancesë¥¼ ì„¤ì¹˜ í•˜ëŠ” ê³³!
</a>
<img src="/next/next-utterances/1.PNG" className={`max-w-full h-auto`}></img>

ìœ„ ì‚¬ì´íŠ¸ë¡œ ë“¤ì–´ê°€ë©´ ì§€ê¸ˆ ì‚¬ì§„ì—ëŠ” ì œê°€ ë¨¼ì € ì¸ìŠ¤í†¨ì„ í•´ì„œ ê·¸ë ‡ì§€ë§Œ configureì— installë²„íŠ¼ì´ ìˆìŠµë‹ˆë‹¤.
ê·¸ê³³ìœ¼ë¡œ ë“¤ì–´ê°€ì…”ì„œ ì„¤ì¹˜í•˜ê³  ì‹¶ì€ repoì— ì„¤ì¹˜ë¥¼ í•´ì£¼ë©´ ë©ë‹ˆë‹¤.

---

<h2 className={`dark:text-white`}>2. ìŠ¤í¬ë¦½íŠ¸ ìƒì„±í•˜ê¸°</h2>
<a href="https://utteranc.es/" id="link" className={`dark:text-white`}>
  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” ê³³!
</a>
<img src="/next/next-utterances/2.PNG" className={`max-w-full h-auto`}></img>

ìœ„ ì£¼ì†Œë¡œ ë“¤ì–´ê°€ë©´ repoì¹¸(ë¹¨ê°„ë™ê·¸ë¼ë¯¸)ì— ìì‹ ì˜id / ì €ì¥ì†Œì´ë¦„  
ì´ë ‡ê²Œ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤  
ex) kagrin97/NextJS-blog

ê·¸ë¦¬ê³  ë°‘ì— ì„¤ì •ë“¤ì„ ì²´í¬í•˜ë‹¤ scriptë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤

<img src="/next/next-utterances/3.PNG" className={`max-w-full h-auto`}></img>

ì¼ë‹¨ ì´ì •ë³´ë¥¼ ê°€ì§€ê³ ë§Œ ìˆì–´ ì¤ì‹œë‹¤.

---

<h2 className={`dark:text-white`}>3. ì½”ë“œë¡œ êµ¬í˜„í•˜ê¸°</h2>

```js:components/Comments.tsx showLineNumbers
import React, { useEffect, useRef } from "react";

const Comments = () => {
  const ref = useRef(null);

  useEffect(() => {
    const script = document.createElement("script");

    script.src = "https://utteranc.es/client.js";
    script.async = true;
    script.setAttribute("repo", "kagrin97/NextJS-myblog"); //ìì‹ ì˜ repo
    script.setAttribute("issue-term", "title"); // tilteë¡œ ì„¤ì •í•©ì‹œë‹¤
    script.setAttribute("theme", "github-light"); // í…Œë§ˆ
    script.setAttribute("label", "blog-comment");
    ref.current.appendChild(script);
  }, []);

  return <div ref={ref}></div>;
};

export default Comments;

```

componentsí´ë”ì— Comments.tsxë¥¼ ìƒì„±í•´ì„œ ë§Œë“¤ì–´ì¤ì‹œë‹¤.  
jsë¥¼ ì‚¬ìš©í•´ë„ ì¢‹ìŠµë‹ˆë‹¤.
scripë¥¼ ê°€ì§€ê³ ì™€ì„œ ì†ì„±ê°’ì„ ìˆ˜ì •í•˜ëŠ”ë°  
ì•„ê¹Œ ë°›ì€ ì •ë³´ì²˜ëŸ¼ ì½”ë“œë¥¼ êµ¬í˜„í•˜ë©´ ì˜¤ë¥˜ê°€ ëœ¹ë‹ˆë‹¤.
ì˜¤ë¥˜ê°€ ëœ¨ëŠ”ì´ìœ ëŠ”  
sriptì— repo, issue-term ì†ì„±ì´ ì—†ê¸° ë•Œë¬¸ì— setAttributeë¥¼  
ì´ìš©í•´ì„œ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ì£ .

```js:pages/blog/[sulg].tsx showLineNumbers
import Comments from "components/Comments";

return (
    ....
    <Comments />
    ...
)
```

ê·¸ë¦¬ê³  ë§Œë“¤ì–´ì§„ Commentsë¥¼ ì‚¬ìš©í•˜ê³ ì‹¶ì€ ê³³ì—ë‹¤ê°€ ì§‘ì–´ ë„£ìœ¼ë©´  
ì™„ì„±ì´ë©ë‹ˆë‹¤.

---

<h2 className={`dark:text-white`}>
  4. ë‹¤í¬ ëª¨ë“œì¼ë•Œ ëŒ“ê¸€ì°½ theme ë³€ê²½í•˜ëŠ” ë°©ë²•
</h2>

ì €ëŠ” `next-theme`ì„ ì‚¬ìš©í•´ì„œ í˜„ì¬ ë¸Œë¼ìš°ì €ì˜ theme ì •ë³´ë¥¼ í† ê¸€ í• ìˆ˜ìˆìŠµë‹ˆë‹¤.

í•´ë‹¹ íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•´ì„œ ëŒ“ê¸€ì°½ themeë¥¼ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ìë©´...

<div className={`step-by-step`}>

<h3>step by step</h3>

1. theme ì •ë³´ê°€ ë³€ê²½ë˜ë©´ Comments ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.

2. ìƒˆë¡œ ìƒì„±ë  Comments ì»´í¬ë„ŒíŠ¸ì— themeì— ë”°ë¼ Comments themeë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.

3. ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” Commentsë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.

</div>

êµ¬í˜„ ëœ ì½”ë“œ ğŸ‘‡

```js showLineNumbers
import React, { useEffect, useRef } from "react";
import { useTheme } from "next-themes";

export default function Comments() {
  const ref = useRef(null);
  const { theme } = useTheme();

  const makeComments = () => {
    const script = document.createElement("script");

    script.src = "https://utteranc.es/client.js";
    script.async = false;
    script.setAttribute("repo", "kagrin97/NextJS-myblog");
    script.setAttribute("issue-term", "title");

    // browser themeì— ë”°ë¼ì„œ Comments themeì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤.
    if (theme === "dark") {
      script.setAttribute("theme", "dark-blue");
    } else {
      script.setAttribute("theme", "github-light");
    }
    script.setAttribute("label", "blog-comment");
    ref.current.appendChild(script);
  };

  const removeExistedComments = () => {
    const existingScript = ref.current.querySelector(".utterances");
    if (existingScript) {
      existingScript.remove();
    }
  };
  useEffect(() => {
    makeComments();
    removeExistedComments();
  }, [theme]);

  return <div ref={ref}></div>;
}
```
